<aside id="sidebar" 
       class="fixed inset-y-0 left-0 w-72 bg-blue-900 text-white transform -translate-x-full md:relative md:translate-x-0 sidebar-transition z-50 flex flex-col shadow-2xl md:shadow-none">
    </aside>

<script>
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    const pageTitle = document.getElementById('page-title');

    // FUNGSI TOGGLE SIDEBAR (YANG DIPERBAIKI)
    function toggleSidebar() {
        // Cek apakah sedang di layar mobile (lebar < 768px)
        if (window.innerWidth < 768) {
            const isHidden = sidebar.classList.contains('-translate-x-full');
            
            if (isHidden) {
                // Tampilkan Sidebar
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                overlay.classList.add('block');
            } else {
                // Sembunyikan Sidebar
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
                overlay.classList.remove('block');
            }
        }
    }

    // Navigasi & Tutup Sidebar Otomatis
    function showPage(pageId) {
        // Sembunyikan semua halaman
        document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
        
        // Tampilkan halaman yang dipilih
        const targetPage = document.getElementById('page-' + pageId);
        if (targetPage) {
            targetPage.classList.remove('hidden');
        }
        
        // Update Judul Header
        pageTitle.innerText = pageId.replace('-', ' ').toUpperCase();

        // TUTUP SIDEBAR OTOMATIS setelah klik menu (khusus mobile)
        if (window.innerWidth < 768) {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        }

        // Render ulang data jika buka laporan
        if(pageId === 'laporan') renderTable();
        if(pageId === 'dashboard') updateStats();
    }

    // Pastikan fungsi pengambilan gambar tetap bekerja
    function takeSnapshot() {
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const photoPreview = document.getElementById('photo-preview');
        
        const context = canvas.getContext('2d');
        canvas.width = 400; 
        canvas.height = 300;
        
        // Efek Mirror
        context.translate(400, 0); 
        context.scale(-1, 1);
        
        context.drawImage(video, 0, 0, 400, 300);
        capturedImage = canvas.toDataURL('image/jpeg');
        photoPreview.src = capturedImage;
        photoPreview.classList.remove('hidden');
    }

    // Inisialisasi awal saat halaman dimuat
    window.onload = () => {
        updateStats();
        // Set tanggal hari ini secara otomatis
        const dateInput = document.getElementById('tanggal');
        if(dateInput) dateInput.valueAsDate = new Date();
    };

    // Sisanya (Kamera, Jam Digital, Simpan Data) tetap menggunakan kode sebelumnya
</script>
